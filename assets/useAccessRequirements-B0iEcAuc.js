import{aA as l,aB as A,aC as S,aD as F,aE as g,an as u,aF as o,aG as q,ab as y,aH as R,am as m,aI as K,aJ as Q,aK as f,aL as d,aM as C,aN as T}from"./iframe-D4dZwAiu.js";import{u as P}from"./index-qjOO6W60.js";import{b as h}from"./_baseOrderBy-Ch55E-5o.js";import{u as p}from"./useInfiniteQuery-97YTJVGW.js";var D=l(function(e,s){if(e==null)return[];var c=s.length;return c>1&&A(e,s[0],s[1])?s=[]:c>2&&A(s[0],s[1],s[2])&&(s=[s[0]]),h(e,S(s,1),[])});const v=async(e,s)=>{const c=s.map(t=>g(e,t)),n=await Promise.all(c);return D(s,t=>-1*Number(n.find(r=>t===r.accessRequirementId).isApproved))};function U(){const e=F();return P(e.breakpoints.up("md"))}function j(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getAccessRequirementQueryKey(String(e)),queryFn:()=>y.getAccessRequirementById(c,e)})}function w(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getEntityAccessRequirementsQueryKey(e),queryFn:()=>y.getAllAccessRequirements(c,e)})}function x(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getTeamAccessRequirementsQueryKey(e),queryFn:()=>y.getTeamAccessRequirements(c,e)})}function W(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getAccessRequirementWikiPageKey(e),queryFn:()=>y.getWikiPageKeyForAccessRequirement(c,e)})}function E(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>Q(c,t),onSuccess:async(t,r,a)=>{const i=n.getAccessRequirementQueryKey(t.id.toString());if(s.setQueryData(i,t),e?.onSuccess)return await e.onSuccess(t,r,a)}})}function M(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>K(c,t),onSuccess:async(t,r,a)=>{const i=n.getAccessRequirementQueryKey(t.id.toString());if(s.setQueryData(i,t),e?.onSuccess)return await e.onSuccess(t,r,a)}})}function N(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getAccessRequirementAclQueryKey(e),queryFn:()=>y.getAccessRequirementAcl(c,e)})}function I(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>d(c,t),onSuccess:async(t,r,a)=>{await s.invalidateQueries({queryKey:n.getAccessRequirementAclQueryKey(r)}),e?.onSuccess&&await e.onSuccess(t,r,a)}})}function O(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>C(c,t),onSuccess:async(t,r,a)=>{const i=n.getAccessRequirementAclQueryKey(t.id);if(s.setQueryData(i,t),e?.onSuccess)return await e.onSuccess(t,r,a)}})}function z(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>T(c,t),onSuccess:async(t,r,a)=>{const i=n.getAccessRequirementAclQueryKey(t.id);if(s.setQueryData(i,t),e?.onSuccess)return await e.onSuccess(t,r,a)}})}function H(e,s){const{accessToken:c,keyFactory:n}=u();return p({...s,queryKey:n.searchAccessRequirementsQueryKey(e),queryFn:async t=>await y.searchAccessRequirements(c,{...e,nextPageToken:t.pageParam}),initialPageParam:void 0,getNextPageParam:t=>t.nextPageToken})}function J(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.createLockAccessRequirement(t,s),mutationKey:["createLockAccessRequirement"],onSuccess:async(t,r,a)=>{if(await Promise.all([c.invalidateQueries({queryKey:n.getAccessRequirementQueryKey()}),c.invalidateQueries({queryKey:n.getAllEntityDataQueryKey()}),...R(n).map(i=>c.invalidateQueries(i))]),e?.onSuccess)return e.onSuccess(t,r,a)}})}function k(e,s,c){return{queryKey:e.getAccessRequirementStatusQueryKey(c),queryFn:()=>y.getAccessRequirementStatus(s,c)}}function V(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,...k(n,c,e)})}function X(e){const{accessToken:s,keyFactory:c}=u();return f({queries:e.map(n=>k(c,s,n))})}function Y(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getSortedAccessRequirementsAndStatusQueryKey(e),queryFn:()=>v(c,e)})}function Z(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getAccessRequirementResearchProjectQueryKey(e),queryFn:()=>y.getResearchProject(e,c)})}function _(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.updateResearchProject(t,s),onSuccess:async(t,r,a)=>{if(await c.invalidateQueries({queryKey:n.getAccessRequirementResearchProjectQueryKey(t.accessRequirementId)}),e?.onSuccess)return e.onSuccess(t,r,a)}})}function $(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getDataAccessRequestForUpdateQueryKey(e),queryFn:()=>y.getDataAccessRequestForUpdate(e,c)})}function ee(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.updateDataAccessRequest(t,s),onSuccess:async(t,r,a)=>{if(await c.invalidateQueries({queryKey:n.getDataAccessRequestForUpdateQueryKey(t.accessRequirementId)}),e?.onSuccess)return e.onSuccess(t,r,a)}})}function se(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.createAccessApproval(s,t),onSuccess:async(t,r,a)=>{if(await Promise.all([c.invalidateQueries({queryKey:n.getAccessRequirementStatusQueryKey(String(r.requirementId))}),...R(n).map(i=>c.invalidateQueries(i))]),e?.onSuccess)return e.onSuccess(t,r,a)}})}function te(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.cancelDataAccessRequest(t.submissionId,s),onSuccess:async(t,r,a)=>{if(await Promise.all([c.invalidateQueries({queryKey:n.getDataAccessSubmissionQueryKey()}),c.invalidateQueries({queryKey:n.getAccessRequirementStatusQueryKey(String(r.accessRequirementId))})]),e?.onSuccess)return e.onSuccess(t,r,a)}})}export{N as a,I as b,O as c,z as d,W as e,V as f,te as g,ee as h,U as i,x as j,w as k,Y as l,$ as m,Z as n,_ as o,se as p,H as q,j as r,D as s,X as t,J as u,E as v,M as w};
