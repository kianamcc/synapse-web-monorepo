import{an as be,am as Re,V as oe,j as r,eh as ee,a1 as Fe,ei as Ae,W as h,Y as F,$ as Te,a2 as je,dF as H,B as v,dh as ie,b$ as Ce,jQ as Ne,r as y,gW as Ie,eM as Me,c6 as Ee,Z as Qe,br as ve,ah as we,jR as Pe,jS as Ve,jT as Ye,jU as qe,jV as ke,jW as q,e6 as De,cr as Be,cs as Le}from"./iframe-HhNUql8D.js";import{S as Ue}from"./SynapseSearchResultsCard-D-z-fkxL.js";import{S as te}from"./Search-2H_qTfCz.js";import{u as $e}from"./useSearch-DpMz5vdd.js";import{D as R}from"./searchDefaults-DGL-Ub_u.js";import{C as re}from"./Close-DwkMpKYS.js";import{U as le}from"./UserBadge-B8Kzug2j.js";import{C as ae}from"./Chip-CfoXnBsJ.js";import{F as k}from"./FormControlLabel-C-rWpYTl.js";import{C as ne}from"./Checkbox-Ddqx6MYE.js";import{R as Oe}from"./RadioGroup-Bz_NLIR-.js";import{R as He}from"./Radio-CR9eq1i7.js";import{I as We}from"./InputAdornment-VrKMKYkV.js";import{B as ze}from"./Badge-DqqUMVET.js";import"./index-Chi_LkuB.js";import"./EntityIcon-DgoVxltf.js";import"./FavoriteButton-DDjeIKxI.js";import"./useFavorites-DHVKVT2k.js";import"./useInfiniteQuery-DE1A5qVC.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./DropdownMenu-CXSWoK-S.js";import"./MenuItem-CNBBPtb0.js";import"./ListItemIcon-gjyTV9QB.js";import"./ListItemText-BLOEsJIx.js";import"./ProgrammaticInstructionsModal-BCXoSv9P.js";import"./ConfirmationDialog-X-q5EAD5.js";import"./DialogBase-CixZag-K.js";import"./HelpPopover-HYfG1omk.js";import"./MarkdownPopover-C0XojMIG.js";import"./LightTooltip-N2Yg4ppW.js";import"./MarkdownSynapse-Der_vikg.js";import"./SkeletonButton-CAAREen-.js";import"./SkeletonInlineBlock-Ckp06Ekm.js";import"./SkeletonTable-EUCE1WAM.js";import"./SkeletonParagraph-DMnpDLUG.js";import"./Tabs-D-JX_Zxd.js";import"./KeyboardArrowRight-w3AJde8e.js";import"./ModalDownload-DJJQgYQi.js";import"./index-BwVcaUGB.js";import"./enums-lngw8SOU.js";import"./_baseIteratee-DscUwa23.js";import"./isString-D2bCjL-N.js";import"./_arrayReduce-CrxnWFSq.js";import"./_baseEach-Z8qGCdKi.js";import"./uniq-DmrgozJc.js";import"./forEach-CWOCpBhE.js";import"./pickBy-CKjZAjje.js";import"./Add-XMY3Vo5_.js";import"./Grid-DCuy2lUH.js";import"./ListItem-CR8dFfpl.js";import"./listItemButtonClasses-y8ASnlnG.js";import"./ArrowUpward-JtEWuePX.js";import"./ContentCopy-BF_M5IHx.js";import"./FormGroup-CBm5akN6.js";import"./Slider-BVgo-9nV.js";import"./visuallyHidden-Dan1xhjv.js";import"./SynapseFormRadioWidget-BavqXHfu.js";import"./useDownloadList-D8yDJA4G.js";import"./waitForAsyncResult-D6MYwWvo.js";import"./useEntity-DF-2AloP.js";import"./useQueries-DJ5viPPl.js";import"./useSuspenseQuery-DB6yHRv0.js";import"./useEntityBundle-BRlKCRN9.js";import"./DownloadConfirmationUtils-DMoD3lur.js";import"./useHasAccess-tdhq2R74.js";import"./AccessIcon-DXZX3FEP.js";import"./AccessRequirementList-C33ZtfrT.js";import"./useAccessRequirements-CGb-E-2P.js";import"./index-Dr8U68KC.js";import"./_baseOrderBy-Ci2OaTcA.js";import"./_baseMap-Bdekh0DQ.js";import"./groupBy-BZqCtS5z.js";import"./_createAggregator-CIbVMDgU.js";import"./EntityLink-BpxoMdYN.js";import"./useGetEntityHeaders-B3bDUdq0.js";import"./ErrorChip-DnUHpaN6.js";import"./UserOrTeamBadge-DrVGgItU.js";import"./TeamBadge-DkvVWVTh.js";import"./useRealmPrincipals-B9TEQ3L6.js";import"./UnmanagedACTAccessRequirementItem-DUOC3YoX.js";import"./RequirementItem-Bne1Rt-f.js";import"./LockTwoTone-DTyURBUH.js";import"./UserSearchBoxV2-sYNrgWyr.js";import"./useDebouncedEffect-dnFUnDMR.js";import"./use-deep-compare-effect.esm-BKeKIqEJ.js";import"./without-CWGhFM0s.js";import"./Select-aab027f3.esm-Dpnrc3lw.js";import"./defineProperty-Cp4flQ_6.js";import"./toPropertyKey-C9c9JG92.js";import"./ManagedACTAccessRequirementItemView-KIwtSldc.js";import"./SelfSignAccessRequirementItem-dLDaznep.js";import"./useUserBundle-B3ONxnuI.js";import"./DataAccessRequestAccessorsFilesForm-CgpcmYAJ.js";import"./useDataAccessSubmission-zGSNg2jr.js";import"./UploadDocumentField-CnqjOavK.js";import"./FileUpload-UjmOJee4.js";import"./ManagedACTAccessRequirementFormWikiWrapper-DZYOEUio.js";import"./GridLegacy-vtq68X8r.js";import"./ResearchProjectForm-BNyHrFkZ.js";import"./TextFieldWithWordLimit-FF6dAb02.js";import"./AuthenticatedRequirement-BljswXcy.js";import"./CertificationRequirement-CJbv_psI.js";import"./TwoFactorAuthEnabledRequirement-CYzOU0nJ.js";import"./ValidationRequirement-DX8d27hJ.js";import"./Card-Bz-DCfDS.js";import"./SwitchBase-B990BXLh.js";import"./usePreviousProps-LikoPITP.js";function Ge(e,n){const{synapseClient:t,keyFactory:a}=be();return Re({...n,queryKey:a.getSuggestionQueryKey(e),queryFn:()=>t.searchServicesClient.postRepoV1Suggestion({suggestionQuery:e})})}const Ke=oe(r.jsx("path",{d:"M7 6h10l-5.01 6.3zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})),Je=oe(r.jsx("path",{d:"M18 9v12h-2V9c0-2.21-1.79-4-4-4S8 6.79 8 9v4.17l1.59-1.59L11 13l-4 4-4-4 1.41-1.41L6 13.17V9c0-3.31 2.69-6 6-6s6 2.69 6 6"})),Xe="_didYouMeanContainer_1wx9h_1",Ze="_didYouMeanSuggestion_1wx9h_8",et="_searchIcon_1wx9h_14",tt="_suggestionText_1wx9h_18",rt="_didYouMeanCurrentlyShowing_1wx9h_23",at="_didYouMeanArrowContainer_1wx9h_27",nt="_didYouMeanText_1wx9h_33",b={didYouMeanContainer:Xe,didYouMeanSuggestion:Ze,searchIcon:et,suggestionText:tt,didYouMeanCurrentlyShowing:rt,didYouMeanArrowContainer:at,didYouMeanText:nt};function D({entityIds:e,dataCatalogEntityId:n="syn61609402",sourceAppConfigTableID:t="syn45291362"}){const a=e.length>0?[{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:"id",operator:ee.IN,values:e}]:[],{data:o}=Fe({entityId:n,query:{sql:`SELECT appId, link FROM ${n}`,additionalFilters:a},partMask:je,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{enabled:e.length>0}),l=o?.responseBody?.queryResult?.queryResults,s=!!l&&l?.rows.length>0,u=l?.rows.map(m=>m.values[0]),c=u&&u.length>0?[{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:"appId",operator:ee.IN,values:u}]:[],p=Ae(t,c),x=!!p&&p.length>0;return!s||!x?null:r.jsx(r.Fragment,{children:p.map((m,A)=>r.jsxs(h,{sx:{display:"flex",padding:"32px",backgroundColor:"secondary.100",borderRadius:"8px",transition:"background-color 0.3s",justifyContent:"space-between",alignItems:"center",gap:"50px",boxShadow:"0 4px 10px 0 rgba(0, 0, 0, 0.10), 0 1px 1px 0 rgba(0, 0, 0, 0.05)"},children:[r.jsx(h,{children:r.jsxs(F,{variant:"smallText1",sx:{color:"grey.900",mt:"4px",lineHeight:"20px"},children:["Looks like you’re searching for information about"," ",m.shortDescription," ",r.jsxs(Te,{component:"a",href:m.appURL,target:"_blank",rel:"noopener noreferrer",sx:{color:f=>`${f.palette.grey[900]} !important`,textDecorationColor:f=>`${f.palette.grey[900]} !important`},children:["Visit the ",m.friendlyName]}),". ",m.description]})}),r.jsx(h,{sx:{"> *":{height:"48px",width:"auto"}},children:m?.logo})]},A))})}try{D.displayName="SearchPagePortalBanners",D.__docgenInfo={description:"Portal banner based on entities found in the first page of search results.",displayName:"SearchPagePortalBanners",props:{entityIds:{defaultValue:null,description:"",name:"entityIds",required:!0,type:{name:"string[]"}},dataCatalogEntityId:{defaultValue:{value:"syn61609402"},description:"",name:"dataCatalogEntityId",required:!1,type:{name:"string"}},sourceAppConfigTableID:{defaultValue:{value:"syn45291362"},description:"",name:"sourceAppConfigTableID",required:!1,type:{name:"string"}}}}}catch{}const st="_chipStyles_vxz58_1",ot="_resetFilterButton_vxz58_11",it="_displayName_vxz58_24",lt="_closeIcon_vxz58_31",C={chipStyles:st,resetFilterButton:ot,displayName:it,closeIcon:lt},se=10,ct=60,ce=ct*60,P=ce*24,ut=P*7,dt=P*30,pt=P*365,w=[{id:"ANY_TIME",label:"Any Time",range:null},{id:"PAST_HOUR",label:"Past Hour",range:ce},{id:"PAST_DAY",label:"Past 24 Hours",range:P},{id:"PAST_WEEK",label:"Past Week",range:ut},{id:"PAST_MONTH",label:"Past Month",range:dt},{id:"PAST_YEAR",label:"Past Year",range:pt}],mt={node_type:"Entity Type",modified_by:"Last Modified By"},gt=["node_type","consortium","disease","modified_on","modified_by","created_on","tissue","num_samples","created_by"],yt=["modified_by","created_by","ModifiedBy","CreatedBy"],ht={node_type:"Entity Types",consortium:"Consortiums",disease:"Diseases",tissue:"Tissues",num_samples:"Num Samples",modified_by:"Last Modified By",created_by:"Created By"};function ft(e){return`All ${ht[e]||de(e)}`}function W(e,n){if(!n||n.trim()==="")return!1;const t=(e==="node_type"||e==="EntityType")&&n==="link",a=n.includes(":");return!t&&!a}const ue=e=>{const n=e.toLowerCase().replace(/_/g,"");return yt.some(t=>t.toLowerCase().replace(/_/g,"")===n)};function de(e){return e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function xt(e){return mt[e]||de(e)}function _t(e){return!(!e.constraints||e.constraints.length===0)}function pe(e){const n=parseInt(e);if(!n)return"ANY_TIME";const t=H().unix()-n;return t<=0?"ANY_TIME":w.filter(l=>l.id!=="ANY_TIME").reduce((l,s)=>Math.abs(t-s.range)<Math.abs(t-l.range)?s:l).id}function St(e){const n=parseInt(e);if(isNaN(n))return e;if(n===0)return"any time";const t=pe(e),a=w.find(o=>o.id===t);if(a&&a.id!=="ANY_TIME")return a.label;try{const o=n*1e3;return new Date(o).toLocaleDateString()}catch{return e}}function B({query:e,setQuery:n,facets:t,onAddFacet:a,onRemoveFacet:o,onSetRangeFacet:l,onRemoveRangeFacet:s,isFacetApplied:u,isRangeFacetApplied:c,getAppliedRangeFacet:p}){const x=e.booleanQuery&&e.booleanQuery.length>0||e.rangeQuery&&e.rangeQuery.length>0,m=()=>{n({...e,booleanQuery:[],rangeQuery:[],start:0})};return r.jsxs(h,{sx:{display:"flex",flexDirection:"column",gap:2},children:[x&&r.jsxs(v,{onClick:m,variant:"text",size:"small",className:C.resetFilterButton,children:[r.jsx(Je,{sx:{transform:"rotate(90deg)"}}),r.jsx(F,{sx:{fontSize:"16px",fontWeight:700},children:"Reset Filters"})]}),r.jsx(h,{sx:{display:"flex",flexDirection:"row",gap:3,flexWrap:"wrap"},children:gt.map(A=>{const f=t.find(N=>N.name===A);return!f||!_t(f)?null:r.jsx(bt,{facet:f,query:e,onAddFacet:a,onRemoveFacet:o,onSetRangeFacet:l,onRemoveRangeFacet:s,isFacetApplied:u,isRangeFacetApplied:c,getAppliedRangeFacet:p},f.name)})})]})}function bt({facet:e,query:n,onAddFacet:t,onRemoveFacet:a,onSetRangeFacet:o,onRemoveRangeFacet:l,isFacetApplied:s,isRangeFacetApplied:u,getAppliedRangeFacet:c}){const p=xt(e.name);return r.jsxs(h,{sx:{display:"flex",flexDirection:"column",minWidth:"200px"},children:[r.jsx(F,{variant:"smallText2",className:C.displayName,children:p}),e.type===Ne.LITERAL?r.jsx(Rt,{facet:e,query:n,onAddFacet:t,onRemoveFacet:a,isFacetApplied:s}):r.jsx(Ft,{facet:e,query:n,onSetRangeFacet:o,onRemoveRangeFacet:l,isRangeFacetApplied:u,getAppliedRangeFacet:c})]})}function Rt({facet:e,query:n,onAddFacet:t,onRemoveFacet:a,isFacetApplied:o}){const[l,s]=y.useState(!1),u=n.booleanQuery?.filter(d=>d.key===e.name).map(d=>d.value)||[],c=u.length===0,p=e.constraints.map(d=>d.value),m=Array.from(new Set([...u,...p])).filter(d=>W(e.name,d)),A=l?m:m.slice(0,se),f=(d,S)=>{S?t(e.name,d):a(e.name,d)},N=d=>{d&&u.forEach(S=>a(e.name,S))};return r.jsxs(h,{sx:{display:"flex",flexDirection:"column"},children:[r.jsx(k,{sx:{mb:"8px"},control:r.jsx(ne,{checked:c,onChange:d=>N(d.target.checked),size:"small"}),label:r.jsx(F,{variant:"smallText1",sx:{lineHeight:"20px"},children:ft(e.name)})}),r.jsx(h,{sx:{display:"flex",flexDirection:"column",...l&&{maxHeight:"280px",overflowY:"auto"}},children:A.map(d=>{const S=o(e.name,d);return r.jsx(k,{sx:{mb:"8px"},control:r.jsx(ne,{checked:S,onChange:T=>f(d,T.target.checked),size:"small"}),label:ue(e.name)?r.jsx(le,{userId:d}):r.jsx(F,{variant:"smallText1",sx:{lineHeight:"20px"},children:e.name==="node_type"&&ie(d)||d})},d)})}),m.length>se&&!l&&r.jsxs(v,{onClick:()=>s(!0),variant:"text",size:"small",sx:{alignSelf:"flex-start"},children:["Show all ",m.length]})]})}function Ft({facet:e,onSetRangeFacet:n,onRemoveRangeFacet:t,getAppliedRangeFacet:a}){const o=a(e.name),l=o?.min?pe(o.min):"ANY_TIME",s=u=>{if(!w.find(m=>m.id===u)?.range){t(e.name);return}const p={PAST_HOUR:"hour",PAST_DAY:"day",PAST_WEEK:"week",PAST_MONTH:"month",PAST_YEAR:"year"},x=String(H().subtract(1,p[u]).unix());n(e.name,x)};return r.jsx(Oe,{name:`range-facet-${e.name}`,value:l,onChange:u=>s(u.target.value),children:w.map(u=>r.jsx(k,{value:u.id,control:r.jsx(He,{size:"small"}),label:u.label,sx:{mb:.5}},u.label))})}function L({query:e,onRemoveFacet:n,onRemoveRangeFacet:t}){const a=e.booleanQuery||[],o=e.rangeQuery||[];return a.length>0||o.length>0?r.jsxs(h,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[a.map((s,u)=>W(s.key,s.value)?r.jsx(ae,{className:C.chipStyles,deleteIcon:r.jsx(re,{className:C.closeIcon}),onDelete:()=>n(s.key,s.value),label:ue(s.key)?r.jsx(h,{sx:{"& .MuiTypography-root":{color:"var(--synapse-white)"}},children:r.jsx(le,{userId:s.value})}):r.jsx(F,{variant:"smallText1",children:s.key==="node_type"&&ie(s.value)||s.value})},`${s.key}-${s.value}-${u}`):null),o.map((s,u)=>{const c=St(s.min),p=H(parseInt(s.min)*1e3).format("MMMM D, YYYY");return r.jsx(Ce,{title:`Since ${p}`,arrow:!0,children:r.jsx(ae,{className:C.chipStyles,label:`${c}`,deleteIcon:r.jsx(re,{className:C.closeIcon}),onDelete:()=>t(s.key)})},`${s.key}-${s.min}-${u}`)})]}):null}try{B.displayName="SearchFacetPanel",B.__docgenInfo={description:"Main facet panel component that displays all available facets",displayName:"SearchFacetPanel",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"SearchQuery"}},setQuery:{defaultValue:null,description:"",name:"setQuery",required:!0,type:{name:"(newQuery: SearchQuery) => void"}},facets:{defaultValue:null,description:"",name:"facets",required:!0,type:{name:"Facet[]"}},onAddFacet:{defaultValue:null,description:"",name:"onAddFacet",required:!0,type:{name:"(facetName: string, facetValue: string) => void"}},onRemoveFacet:{defaultValue:null,description:"",name:"onRemoveFacet",required:!0,type:{name:"(facetName: string, facetValue: string) => void"}},onSetRangeFacet:{defaultValue:null,description:"",name:"onSetRangeFacet",required:!0,type:{name:"(facetName: string, minValue: string) => void"}},onRemoveRangeFacet:{defaultValue:null,description:"",name:"onRemoveRangeFacet",required:!0,type:{name:"(facetName: string) => void"}},isFacetApplied:{defaultValue:null,description:"",name:"isFacetApplied",required:!0,type:{name:"(facetName: string, facetValue: string) => boolean"}},isRangeFacetApplied:{defaultValue:null,description:"",name:"isRangeFacetApplied",required:!0,type:{name:"(facetName: string) => boolean"}},getAppliedRangeFacet:{defaultValue:null,description:"",name:"getAppliedRangeFacet",required:!0,type:{name:"(facetName: string) => { min: string; }"}}}}}catch{}try{L.displayName="AppliedFacetsChips",L.__docgenInfo={description:"Component that displays applied facets as chips with delete icons",displayName:"AppliedFacetsChips",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"SearchQuery"}},onRemoveFacet:{defaultValue:null,description:"",name:"onRemoveFacet",required:!0,type:{name:"(facetName: string, facetValue: string) => void"}},onRemoveRangeFacet:{defaultValue:null,description:"",name:"onRemoveRangeFacet",required:!0,type:{name:"(facetName: string) => void"}}}}}catch{}function At(e,n,t){const a=e.booleanQuery||[];return a.some(l=>l.key===n&&l.value===t)?e:{...R,...e,booleanQuery:[...a,{key:n,value:t,not:!1}],start:0}}function Tt(e,n,t){const a=e.booleanQuery||[];return{...R,...e,booleanQuery:a.filter(o=>!(o.key===n&&o.value===t)),start:0}}function jt(e,n,t){const o=(e.rangeQuery||[]).filter(s=>s.key!==n),l=String(Math.floor(Date.now()/1e3));return{...R,...e,rangeQuery:[...o,{key:n,min:t,max:l}],start:0}}function Ct(e,n){const t=e.rangeQuery||[];return{...R,...e,rangeQuery:t.filter(a=>a.key!==n),start:0}}function Nt(e,n,t){return(e.booleanQuery||[]).some(o=>o.key===n&&o.value===t)}function It(e,n){return(e.rangeQuery||[]).some(a=>a.key===n)}function Mt(e,n){return(e.rangeQuery||[]).find(a=>a.key===n)}function U(e){const{query:t,setQuery:a}=e,[o,l]=y.useState(!1);Ie({title:`Search: ${t?.queryTerm?.join(" ")}`});const[s,u]=y.useState(t?.queryTerm?.join(" ")||"");y.useEffect(()=>{u(t?.queryTerm?.join(" ")||"")},[t]);const{data:c,isLoading:p,error:x,fetchNextPage:m,hasNextPage:A,isFetchingNextPage:f}=$e(t?{...R,...t,size:50,returnFields:["path"]}:{queryTerm:[],size:50,returnFields:["path"]},{enabled:!!t?.queryTerm?.[0]}),N=i=>{u(i.target.value)},d=()=>{if(a){const i={...R,...t,queryTerm:s?s.split(" ").map(g=>g.trim()).filter(Boolean):[],start:0};a(i)}},{data:S}=Ge({searchTerm:t?.queryTerm},{enabled:!!t?.queryTerm?.[0]}),T=y.useMemo(()=>{const i=S?.suggestions,g=t?.queryTerm||[];if(!i)return null;const _=new Map;let j=!1;for(const I of i){const Z=I.key,Y=Array.from(I.values??[]).reduce((M,E)=>E.score===void 0||E.score<.75?M:!M||(E.frequency??0)>(M.frequency??0)?E:M,null);Y?.term&&Y.term!==Z&&(_.set(Z,Y.term),j=!0)}return j?g.map(I=>_.get(I.toLowerCase())||I).join(" "):null},[S,t?.queryTerm]),me=y.useMemo(()=>{if(!c?.pages||c.pages.length===0)return[];const i=new Set,g=c.pages[0];if(g?.hits){for(const j of g.hits)if(j.id&&i.add(j.id),j.path?.path)for(const V of j.path.path.slice(1))V.id&&i.add(V.id)}return Array.from(i)},[c]),ge=()=>{if(a&&T){const i={...R,...t,queryTerm:T.split(" ").map(g=>g.trim()).filter(Boolean),start:0};a(i)}},z=c?.pages?.[0]?.hits?.length===0,ye=Me.test(t?.queryTerm?.[0]||""),G=c?.pages?.[0]?.facets||[],he=y.useCallback((i,g)=>{a&&t&&a(At(t,i,g))},[t,a]),K=y.useCallback((i,g)=>{a&&t&&a(Tt(t,i,g))},[t,a]),fe=y.useCallback((i,g)=>{a&&t&&a(jt(t,i,g))},[t,a]),J=y.useCallback(i=>{a&&t&&a(Ct(t,i))},[t,a]),xe=y.useCallback((i,g)=>t?Nt(t,i,g):!1,[t]),_e=y.useCallback(i=>t?It(t,i):!1,[t]),Se=y.useCallback(i=>t?Mt(t,i):void 0,[t]),X=(t?.booleanQuery?.filter(i=>W(i.key,i.value)).length||0)+(t?.rangeQuery?.length||0);return r.jsxs(h,{sx:{display:"flex",flexDirection:"column",width:"100%",p:"30px",gap:"20px"},children:[r.jsxs(h,{sx:{display:"flex",flexDirection:"column",height:"auto",gap:"16px"},children:[r.jsxs(h,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"16px",width:"100%"},children:[r.jsx(Ee,{placeholder:"Search…",sx:{flex:1},value:s,onChange:N,onKeyDown:i=>{i.key==="Enter"&&d()},slotProps:{input:{sx:{borderRadius:"96px",boxShadow:"0px 1px 4px var(--synapse-gray-500)",backgroundColor:"var(--synapse-white)"},startAdornment:r.jsx(We,{position:"start",children:r.jsx(te,{sx:{color:"secondary.600"}})})}}}),r.jsx(v,{variant:"outlined",startIcon:r.jsx(Ke,{}),onClick:()=>l(!o),"aria-expanded":o,"aria-controls":"filter-search-results-panel",sx:{py:"10px",px:"20px",height:"100%",borderRadius:0,width:"fit-content",color:i=>i.palette.primary.dark},children:r.jsxs(F,{sx:{fontWeight:700,lineHeight:"16px",display:"flex",gap:"8px"},children:[r.jsx("span",{id:"filter-results-button-label",children:"Filter Search Results"}),X>0&&r.jsx(ze,{badgeContent:X,color:"primary",sx:{"& .MuiBadge-badge":{position:"static",transform:"none",height:"18px",minWidth:"18px"}}})]})})]}),r.jsx(h,{children:!p&&G.length>0&&r.jsx(Qe,{in:o,id:"filter-search-results-panel","aria-labelledby":"filter-results-button-label",children:r.jsx(h,{sx:{border:"1px solid",borderColor:"var(--synapse-gray-100)",backgroundColor:"var(--synapse-white)",padding:"25px",boxShadow:"0 4px 16px 0 rgba(0, 0, 0, 0.04)"},children:t&&a&&r.jsx(B,{query:t,setQuery:a,facets:G,onAddFacet:he,onRemoveFacet:K,onSetRangeFacet:fe,onRemoveRangeFacet:J,isFacetApplied:xe,isRangeFacetApplied:_e,getAppliedRangeFacet:Se})})})})]}),r.jsxs(r.Fragment,{children:[c&&!ye&&T&&r.jsxs("div",{className:b.didYouMeanContainer,children:[r.jsx("div",{className:b.didYouMeanCurrentlyShowing,children:!z&&r.jsxs(r.Fragment,{children:["Currently showing results for"," ",r.jsx("b",{children:t?.queryTerm?.join(" ")}),"."]})}),r.jsxs("div",{className:b.didYouMeanSuggestion,children:[r.jsx(te,{sx:{color:"grey.600"},className:b.searchIcon}),r.jsxs(F,{variant:"body1",className:b.didYouMeanText,children:["Search for ",r.jsx("b",{className:b.suggestionText,children:T})," ","instead?"]}),r.jsx(ve,{className:b.didYouMeanArrowContainer,onClick:ge,"aria-label":`Search for ${T} instead`,sx:{borderColor:"primary.main",svg:{color:"primary.main"}},children:r.jsx(we,{})})]})]}),z&&r.jsxs("div",{className:b.didYouMeanCurrentlyShowing,children:["No results found for ",r.jsx("b",{children:t?.queryTerm?.join(" ")}),"."]}),r.jsxs(h,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"20px"},children:[p&&r.jsx("div",{children:"Loading data..."}),x&&r.jsxs("div",{children:["Error: ",x.message]}),r.jsx(D,{entityIds:me}),t&&r.jsx(h,{sx:{alignSelf:"flex-start"},children:r.jsx(L,{query:t,onRemoveFacet:K,onRemoveRangeFacet:J})}),c&&c.pages&&c.pages.map((i,g)=>i.hits.map(_=>r.jsx(Ue,{entityId:_.id,name:_.name,entityType:_.node_type,modifiedOn:_.modified_on},_.id+"-"+g))),A&&r.jsx(v,{onClick:()=>{m()},loading:f,variant:"contained",sx:{mt:2},children:f?"Loading more...":"Load More"})]})]})]})}try{U.displayName="SynapseSearchPageResults",U.__docgenInfo={description:"",displayName:"SynapseSearchPageResults",props:{query:{defaultValue:null,description:"",name:"query",required:!1,type:{name:"SearchQuery"}},setQuery:{defaultValue:null,description:"",name:"setQuery",required:!1,type:{name:"(newQuery: SearchQuery) => void"}}}}}catch{}function $(e){const{children:n,routerBaseName:t="/SearchV2:default",useMemoryRouter:a=!1}=e,o=y.useMemo(()=>[{path:"/",element:r.jsx(r.Fragment,{children:n})}],[n,a]),l=y.useMemo(()=>a?Pe(o,{basename:t}):Ve(o,{basename:t}),[a,o,t]);return a?r.jsx(Ye,{router:l}):r.jsx(qe,{router:l})}try{$.displayName="SynapseSearchPageRouter",$.__docgenInfo={description:"",displayName:"SynapseSearchPageRouter",props:{routerBaseName:{defaultValue:null,description:"",name:"routerBaseName",required:!1,type:{name:"string"}},useMemoryRouter:{defaultValue:null,description:"",name:"useMemoryRouter",required:!1,type:{name:"boolean"}}}}}catch{}function Et(){const[e,n]=ke(),t=e.get(q)||"";let a={};try{a=t?JSON.parse(t):{}}catch(c){console.error("Error parsing search query from URL:",c)}const o={...R,...a},l=o?.queryTerm?.[0]||"",s=y.useMemo(()=>De(l),[l]);y.useEffect(()=>{if(s){const c=s.targetVersionNumber?`${s.targetId}.${s.targetVersionNumber}`:s.targetId;window.location.assign(`${Be(Le.PORTAL_ENDPOINT)}Synapse:${c}`)}},[s]);const u=c=>{n(p=>(c&&c.queryTerm&&c.queryTerm.length>0?p.set(q,JSON.stringify(c)):p.delete(q),p))};return s?null:r.jsx(U,{query:o,setQuery:u})}function O(e){return r.jsx($,{...e,children:r.jsx(Et,{})})}try{O.displayName="SynapseSearchPage",O.__docgenInfo={description:"",displayName:"SynapseSearchPage",props:{routerBaseName:{defaultValue:null,description:"",name:"routerBaseName",required:!1,type:{name:"string"}},useMemoryRouter:{defaultValue:null,description:"",name:"useMemoryRouter",required:!1,type:{name:"boolean"}}}}}catch{}const Qa={title:"Components/SynapseSearch/SynapseSearchPage",component:O,parameters:{stack:"production",requireLogin:!1},args:{useMemoryRouter:!0,routerBaseName:"/"}},Q={};Q.parameters={...Q.parameters,docs:{...Q.parameters?.docs,source:{originalSource:"{} satisfies Story",...Q.parameters?.docs?.source}}};const va=["Page"];export{Q as Page,va as __namedExportsOrder,Qa as default};
