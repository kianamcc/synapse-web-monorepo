import{r as g,dS as h,dT as S,j as e,bU as w,fI as E,Y as f,B as y}from"./iframe-D4dZwAiu.js";import{u as _}from"./useEntityBundle-ClqOATdC.js";import{E as I}from"./EntityAclEditorModal-aKDIUA76.js";import{A as C}from"./ActionRequiredCard-BA07We7Q.js";const D=(t=>window.open(`https://www.synapse.org/Synapse:${t}`,"_blank")),R="Download Permission Required";function s(t){const{entityId:n,count:a,onViewSharingSettingsClicked:d=D}=t,{data:o,isLoading:l,isError:u,error:c}=_(n,void 0,{includeEntity:!0,includePermissions:!0}),[m,i]=g.useState(!1),r=!!o?.permissions.canDownload,p=h(S.REACT_ENTITY_ACL_EDITOR);return u?e.jsx(w,{severity:"error",children:c.reason}):e.jsx(C,{isLoading:l,title:R,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:o?.entity.name})," in order to download this set of files."]}),iconType:E,count:a,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(I,{entityId:n,open:m,onClose:()=>i(!1)}),e.jsx(y,{variant:"outlined",onClick:()=>{p?i(!0):d(n)},disabled:r,children:r?"Complete":"View Sharing Settings"})]})})}try{s.displayName="RequestDownloadCard",s.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"(benefactorId: string) => void"}}}}}catch{}export{s as R};
