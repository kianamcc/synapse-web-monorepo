import{an as T,r as E,j as e,W as y}from"./iframe-Dmz0OYQW.js";import{u as L}from"./useGetEntityChallenge-ByvD8QRB.js";import{c as j}from"./useTeamMembers-BwzDrymi.js";import{u as k}from"./useGetUserTeams-CBs5vtUr.js";import{d as w}from"./useUserBundle-BQiPRbYK.js";import{E as I}from"./ExitToApp-BO8qEch9.js";import{S as t}from"./SpinnerButton-Q3UDv9b9.js";const u=({projectId:a,onError:n,onJoinClick:s,onLeaveClick:l})=>{const{isAuthenticated:o}=T(),{data:d}=w({enabled:o}),{data:r,isLoading:p,error:g}=L(a,{enabled:o}),{data:h,isLoading:f,error:b}=j(r?.participantTeamId,d?.ownerId,{enabled:!!r&&!!d}),C=!!h,{data:c,error:x,isLoading:v}=k(r?.id,20,0,{enabled:!!r&&o}),S=c&&c.results.length>0,m=C&&S,i=g||b||x;return E.useEffect(()=>{i&&n&&n(i)},[i,n]),p||f||v?e.jsx(t,{showSpinner:!0,children:"Loading..."}):e.jsxs(y,{children:[!m&&e.jsx(t,{disableElevation:!0,variant:"contained",onClick:()=>o&&s?s():void 0,sx:{color:"white",backgroundColor:"#109488",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"white",backgroundColor:"#109488"},":active":{color:"white",backgroundColor:"#109488"},":visited":{color:"white",backgroundColor:"#109488"}},children:"Register for this Challenge"}),m&&e.jsx(t,{disableElevation:!0,variant:"outlined",endIcon:e.jsx(I,{}),onClick:()=>l?l():void 0,sx:{borderColor:"white",color:"white",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"#172430",borderColor:"#172430"}},children:"Leave Challenge"})]})};try{u.displayName="ChallengeRegisterButton",u.__docgenInfo={description:"",displayName:"ChallengeRegisterButton",props:{projectId:{defaultValue:null,description:"",name:"projectId",required:!0,type:{name:"string"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(error: SynapseClientError) => void"}},onJoinClick:{defaultValue:null,description:"",name:"onJoinClick",required:!1,type:{name:"() => void"}},onLeaveClick:{defaultValue:null,description:"",name:"onLeaveClick",required:!1,type:{name:"() => void"}}}}}catch{}export{u as C};
