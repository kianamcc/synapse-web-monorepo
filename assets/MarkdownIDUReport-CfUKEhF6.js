import{an as y,ab as h,j as e,du as _,dt as S,bR as R,r as x}from"./iframe-D4dZwAiu.js";import{u as b}from"./useInfiniteQuery-97YTJVGW.js";import{u as N}from"./index-DIYhPal5.js";import{M as w}from"./MarkdownSynapse-_XkOqT-B.js";import{S as D}from"./SkeletonTable-8IE5S5u8.js";import{U as I}from"./UserBadge-C4q-1h63.js";import"./index-Chi_LkuB.js";import"./SkeletonButton-BF6SPb4p.js";import"./SkeletonInlineBlock-BE4VGVg9.js";import"./SkeletonParagraph-CCi1oakt.js";import"./useUserBundle-DJaOK7gx.js";import"./MenuItem-i2UFDYLy.js";import"./Card-BgubtV-0.js";import"./Chip-BrFyeTvK.js";function k(s,t){const{accessToken:o,keyFactory:n}=y(),a={accessRequirementId:s};return b({...t,queryKey:n.getApprovedSubmissionInfoQueryKey(a),queryFn:async r=>await h.getApprovedSubmissionInfo({...a,nextPageToken:r.pageParam},o),initialPageParam:void 0,getNextPageParam:r=>r.nextPageToken})}function p({info:s}){return e.jsx(e.Fragment,{children:s&&e.jsxs("p",{className:"SubmissionInfoCard",children:[e.jsx("strong",{children:" Project Lead: "})," ",e.jsx("span",{children:s.projectLead})," ",e.jsx("br",{}),e.jsx("strong",{children:" Institution: "})," ",e.jsx("span",{children:s.institution})," ",e.jsx("br",{}),e.jsx("strong",{children:" Data Access Request Submitted By: "})," ",e.jsx(I,{userId:s.submittedBy})," ",e.jsx("br",{}),e.jsxs("strong",{children:[" ","Intended Data Use Statement (accepted on"," ",_(S(s.modifiedOn),"M/D/YYYY"),"):"]}),e.jsx(w,{markdown:s.intendedDataUseStatement}),s.accessorChanges&&s.accessorChanges.map(t=>e.jsxs("div",{children:[e.jsx(I,{userId:t.userId})," ",t.type]},`${t.userId}-${t.type}`))]})})}function f(){return e.jsxs("p",{className:"SubmissionInfoCard",children:[e.jsx(D,{numCols:1,numRows:4}),e.jsx(R,{variant:"rectangular",width:"100%",height:80})]})}try{p.displayName="SubmissionInfoCard",p.__docgenInfo={description:"",displayName:"SubmissionInfoCard",props:{info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"SubmissionInfo"}}}}}catch{}function u(s){const{accessRequirementId:t}=s,{ref:o,inView:n}=N(),{data:a,status:r,isLoading:j,hasNextPage:m,isFetchingNextPage:d,fetchNextPage:c}=k(t,{throwOnError:!0});x.useEffect(()=>{r==="success"&&!d&&m&&c&&n&&c()},[r,m,d,c,n]);const l=a?.pages.flatMap(i=>i.results)??[];return e.jsxs(e.Fragment,{children:[l.length>0&&e.jsxs("div",{className:"IDUReport",children:[l.map(i=>e.jsxs(x.Fragment,{children:[e.jsx(p,{info:i}),e.jsx("hr",{})]},JSON.stringify(i))),e.jsx("div",{ref:o})]}),(j||d)&&e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(f,{})]})]})}try{u.displayName="IDUReport",u.__docgenInfo={description:"",displayName:"IDUReport",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"string"}}}}}catch{}function g(s){const{accessRestrictionId:t}=s;return e.jsx(u,{accessRequirementId:t})}try{g.displayName="MarkdownIDUReport",g.__docgenInfo={description:"",displayName:"MarkdownIDUReport",props:{accessRestrictionId:{defaultValue:null,description:"",name:"accessRestrictionId",required:!0,type:{name:"string"}}}}}catch{}export{g as default};
